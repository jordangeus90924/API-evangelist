---
published: true
layout: post
title: 'OAS Extension Profiles'
image: /images/posts/2022-08-16-oas-extension-profiles.png
author:
  name:        'Pascal heus'
  email:       'pascal.heus@postman.com'
  affiliation: 'Postman Open Technologies'
  github:      'kulnor'
  linkedin:    'in/pascal'
  twitter:     'PascalHeus'
tags:
- API
- extensions
- metadata
---

<p align="center"><img src="{{ page.image }}" width="45%" align="right" style="padding: 15px;"></p>

<p>The use of <a href="https://spec.openapis.org/oas/v3.1.0#specification-extensions" target="_blank">extensions</a> in Open API Specification (OAS) has been supported since version 2.x based on a minimalistic approach whereby anyone can define a property starting with <code>x-</code> (e.g. <code>x-myextension</code>) which can hold any information. This feature was carried over as is to version 3.x. Extensions can be used for various purposes, typically to add functionality, particular use cases, or address shortcoming of the specification.
</p>

<p>
There are numerous examples out there, such as 
<a href="https://github.com/github/rest-api-description/blob/main/extensions.md" target="_blank">GitHub</a>
, <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-swagger-extensions.html" target="_blank">AWS API Gateway</a>
, or <a href="https://docs.readme.com/docs/openapi-extensions" target="_blank">readme.io</a> extensions.
</p>

<p>
While technically functional, OAS does not provide any mechanism for capturing information about the extension itself, which has a significant number of negative consequences as for example there no easy way for user or an application to:
<ul>
<li>Understand the purpose of the extension</li>
<li>Validate its content</li>
<li>Index it in a catalog for discovery</li>
<li>Preventing name clashes (multiple extensions using the same name)</li>
<li>Knowing who the author or maintainer are</li>
<li>etc.</li>
</ul>
And no guidelines are provided either in terms of governance.
</p>

<p>
To address these shortcomings, we are investigating options around “extension profiles” and related topics such as registration, discovery, management, or design principles.
</p>

<p>
An extension profile is a object that can be embedded in or referenced by an OpenAPI document to capture elements of information about its extensions such as:
<ul>
<li>namespace: a URI or similar globally unique value that ensures there is no ambiguity in terms of the extension identity. The “x-myextension” property essentially being a nickname or abbreviation.</li>
<li>version: information: an object that carries the extension version number and potentially additional properties such as version changes, validity period, etc.</li> 
<li>description / purpose: what is this extension about, how should it be used</li> 
<li>schema: a JSON schema describing the extension content (can be a reference)</li>
<li>lifecycle: what is the status of this extension (dev/alpha, beta, production, deprecated, retired, etc.)</li>
<li>provenance: where does this extension come from and who is the maintainer. This is a complex object that contains information about the vendor/agency/project, contact information, and any other relevant pieces of information. We suggest for this to be based on the  <a href="https://www.w3.org/TR/prov-o/" target="_blank">PROV-O</a> specification</li>
</ul>
</p>

<p>
It addition to above, it might be desirable to: 
<ul>
<li>Be able to differentiate between extensions from major organizations (industry vendors, government agencies, international organizations, standard setting initiatives) vs more confined extensions (from projects, individuals, students, R&D).</li>
<li>Understand which disciplines or domains an extension is intended for</li>
<li>Have mechanisms for capturing usage / popularity and support user feedback</li>
</ul>
</p>

<p>
We are in the process of exploring the above concepts and document in a draft schema definition, which we anticipate will lead to community driven demo / proof of concepts, prototype registries, and educational materials .
</p>

<p>
Note that a similar exercise was attempted in 2017 through the <a href="https://github.com/RepreZen/Semoasa" target="_blank">Specification Extension Metadata for OAS Annotations (Semoasa)</a> project, proposing a draft machine-readable format for specification extensions. A list of over <a href=https://github.com/Mermade/openapi-specification-extensions/blob/main/extensions/combined.tsv" target="_blank">a thousand extensions</a> were also identified around the same time. These projects seem to have unfortunately gone idle, but offer some valuable insights and ideas.
</p>

<p>
We will naturally also investigate related topics, such as when to use extension, design guidelines, and governance (registration authorities, name resolution, etc.). Down the road, we will explore how new features supporting API extensions can be integrated into the Postman platform, which could include extension aware editors, wizards, registration, search, and other utilities.
</p>

<p>
Note that some of the issues being raised here are not only specific to OAS, but are true for other standards such as GraphQL or AsyncAPI. We therefore expect our research to extend beyond OAS. 
</p>

<p>
We're very much just getting started on this, and naturally welcome comments, thoughts, suggestions, so do not hesitate to reach out, and keep an eye out for future related posts.
</p>



